<!DOCTYPE html>
<head>

</head>
<body>
    <div id="content">
        <h1>The Computer has Chosen: <span id="computerResult"></span></h1>
        <h1>You have Chosen: <span id="playerResult"></span></h1>
        <h1 id="theResult">Good Luck</h1>

        <h2>
            <h3>Players Score: <span id="playerScore"></span></h3>
            <h3>Computers Score: <span id="computerScore"></span></h3>
        </h2>


        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>

    <h1 id="finalResult" display="none">
        
        
    </h1>    
    <button id="restart" >Restart</button>
    <script>

        let playerScore = 0;
        let computerScore = 0;

        let computerPlay = function() {
            min = 1
            max = 3
            randNum = Math.floor(Math.random() * (max - min + 1)) + min; 
            switch(randNum) {
                case 1:
                    return "rock";
                    break;
                case 2:
                    return "paper";
                    break;
                case 3: 
                    return "scissors";
                    break;
            }
        }

        let findResult = function(playerSelection,computerSelection) {
            if (playerSelection == computerSelection) {
                return "You chose the same thing!  Result is a tie!"
            } else if (playerSelection == "rock" && computerSelection == "scissors" 
                    || playerSelection == "scissors" && computerSelection == "paper") {
                playerScore = playerScore + 1;
                return "You win, " + playerSelection + " beats " + computerSelection + "!";
            } else {
                computerScore = computerScore + 1;
                return "Sorry, " + computerSelection + " beats " + playerSelection + "! You lose!";
            }

        }
       
        function game(playerSelection) {
                let computerSelection = computerPlay();
                
                let theResult = findResult(playerSelection, computerSelection);
                
                document.getElementById("computerResult").innerHTML = computerSelection;
                document.getElementById("playerResult").innerHTML = playerSelection;
                document.getElementById("theResult").innerHTML = theResult;
                document.getElementById("playerScore").innerHTML = playerScore;
                document.getElementById("computerScore").innerHTML = computerScore;

                if (playerScore == 5 || computerScore == 5) {
                    if (playerScore > computerScore) {
                        document.getElementById("content").style.display="none";
                        document.getElementById('finalResult').style.display="block";
                        document.getElementById('finalResult').innerHTML="YOU ARE THE BIG WINNER!"
                    } else {
                        document.getElementById("content").style.display="none";
                        document.getElementById('finalResult').style.display="block";
                        document.getElementById('finalResult').innerHTML="Sorry, you lose!  Better luck next time."
                    }
                    
                }
            }


        const buttons = document.querySelectorAll('button');
        buttons.forEach((button) => {
            button.addEventListener('click', (e) => {
                console.log(button.id);
                if (button.id == "restart") {
                    location.reload();
                } else {
                    game(button.id);
                    console.log("false");
                }
                
            });
        });
    </script>
    </body>
</html>